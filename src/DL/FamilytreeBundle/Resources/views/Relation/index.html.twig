{% extends 'DLFamilytreeBundle::base.html.twig' %}

{% block title %}Gestion des relations{% endblock %}
{% block body %}
<div class="message_error" style="background:red;color:white;font-weight:bold">
    {{ message_error }}
</div>
<div class="message_ok" style="background:green;color:white;font-weight:bold">
    {{ message_ok }}
</div>

<fieldset>
    <legend>
        Ajout Relation
    </legend>
    {{ form_start(form) }}

    {{ form_widget(form.people_a) }}
    est 
    {{ form_widget(form.relationship) }}
    de
    {{ form_widget(form.people_b) }}
    {{ form_widget(form.save) }}

    {{ form_end(form) }}
</fieldset>

<fieldset>
    <legend>
        Liste des relations
    </legend>

    <table style="width:100%;text-align:center">
        <thead>
            <tr>
                <th>Première Personne</th>
                <th>Type</th>
                <th>Deuxième Personne</th>
            </tr>
        </thead>
        <tbody>
            {% for relation in relations %}
                <tr>
                    <td>{{ relation.peopleA.label }}</td>
                    <td>{{ relation.relationship.name }}</td>
                    <td>{{ relation.peopleB.label }}</td>
                    <td><a href="{{ path("relation_delete", {'id':relation.id}) }}">supprimer</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

</fieldset>
{% endblock %}
